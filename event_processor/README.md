# Обработчик событий
Зависимости:
* [JSON for Modern C++](https://docs.hunter.sh/en/latest/packages/pkg/nlohmann_json.html) ver. >3.7 

Для использования обработчика классы, к котоорым необходимо получить доступ, должны отвечать
 следующим требованим:  
 * В классе должен существовать публичный map<std::string, std::string*> acessor #TODO: заменить требование на сущ. функции с аналогичным доступом
 * Все переменные, к которым обработчик имеет доступ через acessor должны иметь тип std::string
 
Класс ```event_processor``` может:
>1. Давать доступ к полям подключенных классов через оператор []
>2. Хранить в себе json файл одного события и давать к нему доступ
>3. Исполнять команды по типу "  cls.fld=x  " в результате которой поле fld класса cls станет равно СТРОКЕ x
>4. Исполнять команды += и -= для полей, приводимых к числам  
>5. Исполнять команды, прописанные в json файле события по пути к файлу и выбранной кнопке(несколько команд следует записывать как масив одиночных команд)
>6. исполнять команды сохраненного события по номеру кнопки
### Структура JSON - файла события
```json
{
  "text": "Текст - описание события",
  "image_path": "Путь к картинке события",
  "button_count": "Кол-во активных кнопок(если нужно для отрисовки)",
  "buttons": [
    {"text": "Текст - описание кнопки",
     "event": ["Aliev.mark=A", "Konova.mark=K"]},
    {"text": "second_button",
     "event": "Aliev.mark=AA"},
    {"text": "3d_button",
          "event": "3d_command(or array)"},
    {"text": "4th_button",
          "event": "4th_command(or array)"}
  ]
}
```
Примеры использования в тестах TODO: прописать примеры здесь